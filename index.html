<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Customizable Pie Chart</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <canvas id="myChart"></canvas>

  <form id="expenseForm">
    <label for="housing">Housing:</label>
    <input type="number" id="housing" name="housing" value="500"><br>

    <label for="transportation">Transportation:</label>
    <input type="number" id="transportation" name="transportation" value="300"><br>

    <label for="food">Food:</label>
    <input type="number" id="food" name="food" value="200"><br>

    <label for="utilities">Utilities:</label>
    <input type="number" id="utilities" name="utilities" value="100"><br>

    <label for="entertainment">Entertainment:</label>
    <input type="number" id="entertainment" name="entertainment" value="150"><br>

    <button type="submit">Update Chart</button>
  </form>

  <script>
    const form = document.getElementById('expenseForm');

    form.addEventListener('submit', function(event) {
      event.preventDefault();

      const housingValue = parseInt(document.getElementById('housing').value);
      const transportationValue = parseInt(document.getElementById('transportation').value);
      const foodValue = parseInt(document.getElementById('food').value);
      const utilitiesValue = parseInt(document.getElementById('utilities').value);
      const entertainmentValue = parseInt(document.getElementById('entertainment').value);

      const data = {
        labels: ['Housing', 'Transportation', 'Food', 'Utilities', 'Entertainment'],
        values: [housingValue, transportationValue, foodValue, utilitiesValue, entertainmentValue],
      };

      // Calculate total expenses
      const totalExpenses = data.values.reduce((acc, val) => acc + val, 0);

      // Convert expenses to percentages
      const percentages = data.values.map(val => (val / totalExpenses) * 100);

      // Prepare chart data
      const chartData = {
        labels: data.labels,
        datasets: [{
          data: percentages,
          backgroundColor: [
            'rgba(255, 99, 132, 0.2)',
            'rgba(54, 162, 235, 0.2)',
            'rgba(255, 206, 86, 0.2)',
            'rgba(75, 192, 192, 0.2)',
            'rgba(153, 102, 255, 0.2)',
          ],
          borderColor: [
            'rgba(255, 99, 132, 1)',
            'rgba(54, 162, 235, 1)',
            'rgba(255, 206, 86, 1)',
            'rgba(75, 192, 192, 1)',
            'rgba(153, 102, 255, 1)',
          ],
          borderWidth: 1,
        }],
      };

      // Render chart
      const ctx = document.getElementById('myChart').getContext('2d');
      const myChart = new Chart(ctx, {
        type: 'pie',
        data: chartData,
        options: {
          responsive: true,
          plugins: {
            title: {
              display: true,
              text: 'Monthly Expenses',
            },
            legend: {
              position: 'bottom',
            },
          },
        },
      });
    });
  </script>
</body>
</html>
